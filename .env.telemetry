# Telemetry Configuration for Auto.ru GraphQL Federation

# Distributed Tracing
JAEGER_ENDPOINT=http://localhost:14268/api/traces
TRACE_SAMPLE_RATE=1.0
ENABLE_CONSOLE_LOGS=true

# OpenTelemetry
OTEL_SERVICE_NAME=ugc-subgraph
OTEL_SERVICE_VERSION=1.0.0
OTEL_EXPORTER_JAEGER_ENDPOINT=http://localhost:14268/api/traces
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Prometheus Metrics
PROMETHEUS_ENDPOINT=http://localhost:9090

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json
RUST_LOG=ugc_subgraph=debug,tower_http=debug,sqlx=info

# Correlation ID
CORRELATION_ID_HEADER=x-correlation-id

# Business Metrics Update Interval (seconds)
BUSINESS_METRICS_INTERVAL=60

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_SECONDS=60
CIRCUIT_BREAKER_RETRY_TIMEOUT_SECONDS=30

# External Service Timeouts
EXTERNAL_SERVICE_TIMEOUT_SECONDS=30
EXTERNAL_SERVICE_RETRY_ATTEMPTS=3

# Database Connection Pool Metrics
DB_POOL_METRICS_ENABLED=true

# GraphQL Metrics
GRAPHQL_COMPLEXITY_ANALYSIS=true
GRAPHQL_DEPTH_LIMIT=15
GRAPHQL_QUERY_CACHE_SIZE=1000